{% extends "layout_nav.html" %}
{% block body_content %}

<!-- Primary Page Layout
–––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <div class="six columns offset-by-three profile">
      <div class="one columns">
          <img src="{{ profile_pic }}" class="profile_pic">
      </div>

      {% if current_user.name %}
        <div class="eleven columns">
            <h1>{{ current_user.name }}</h1>
        </div>
        <div class="twelve columns">
          <p>{{ current_user.username }}</p>
        </div>
      {% else %}
        <div class="three columns">
            <h1>{{ current_user.username }}</h1>
        </div>
      {% endif %}
      <div class="twelve columns">
        <p>{{ current_user.email }}</p>
      </div>
      <div class="twelve columns" id="sign_out_button">
          <p><a href="{{ url_for("users.logout") }}">Sign out</a></p>
      </div>
    </div>

    <div class="row">
      <div class="form six columns offset-by-three">
        <form method="POST" action="" enctype="multipart/form-data">
          {{ form.hidden_tag() }}
          <fieldset>
            <name>
              <p style="display:inline; font-size: 23px;" id="form_title">Edit account info ▼</p>
            </name>
            <div class="update-form" style="display:none;">
              <div>
                {{ form.username.label }}
                {% if form.username.errors %}
                  {{ form.username(style="border-color:#f55f5f;") }}
                  <div>
                    {% for error in form.username.errors %}
                      <span id="error">{{ error }}</span>
                    {% endfor %}
                  </div>
                {% else %}
                  {{ form.username }}
                {% endif %}
              </div>
              <div>
                {{ form.email.label }}
                {% if form.email.errors %}
                  {{ form.email(style="border-color:#f55f5f;") }}
                  <div>
                    {% for error in form.email.errors %}
                      <span id="error">{{ error }}</span>
                    {% endfor %}
                  </div>
                {% else %}
                  {{ form.email(class="u-full-width") }}
                {% endif %}
              </div>
              <div>
                {{ form.name.label }}
                {% if form.name.errors %}
                  {{ form.name(style="border-color:#f55f5f;") }}
                  <div>
                    {% for error in form.name.errors %}
                      <span id="error">{{ error }}</span>
                    {% endfor %}
                  </div>
                {% else %}
                  {{ form.name(class="u-full-width") }}
                {% endif %}
              </div>
              <div>
                {{ form.picture.label }}
                {{ form.picture }}
              </div>
              <div>
                  {% if form.picture.errors %}
                    {% for error in form.picture.errors %}
                      <span id="error">{{ error }}</span>
                    {% endfor %}
                  {% endif %}
              </div>
            </fieldset>
            <div class="update-button" style="display:none;">
              {{ form.submit }}
            </div>
          </div>
        </form>
      </div>
    </div>


{% endblock body_content %}
